import{A as e,a8 as t,d as a,z as o,x as n,C as i,a9 as r,aa as l,I as s,a2 as c,G as d,J as u,a5 as p,X as m,a7 as g,Y as h,L as v,F as f,$ as y,_ as b,N as w,M as x,U as k,l as C,v as z,a0 as _}from"./TenLCVZ2.js";import{_ as L}from"./BCo6x5W8.js";import{_ as $}from"./BBiNySbP.js";import{_ as j}from"./io8Rh9Vp.js";import T from"./BaUwd6Eh.js";import{c as M,d as B,e as q,u as I,g as A}from"#entry";import{u as H,q as R}from"./BQmdU6t6.js";import{d as E}from"./Bu_mVVth.js";import"./BKfStdPn.js";import"@nuxt/kit";import"./CvtKr0-l.js";import"./D7eXvItr.js";import"./Co_CclnQ.js";import"./CVUkmZDd.js";import"./C13ThLRp.js";import"./CkaAK5KX.js";const U={class:"progress-ring",width:"60",height:"60"},V=["stroke-dashoffset"],N={class:"progress-percentage"},S=L(e({__name:"ReadingProgress",props:{showCircular:{type:Boolean,default:!1},color:{default:"#3b82f6"},threshold:{default:100},target:{default:".prose"}},setup(e,{expose:v}){t(e=>({"5b8f2550":e.color}));const f=e,y=a(0),b=a(!1),w=a(!1),x=2*Math.PI*26,k=o(()=>x-y.value/100*x),C=()=>{const e=document.querySelector(f.target);if(!e)return;const t=e.getBoundingClientRect(),a=window.innerHeight,o=e.scrollHeight,n=window.pageYOffset||document.documentElement.scrollTop,i=t.top+n,r=i+o,l=Math.max(0,n-i),s=Math.max(0,r-i-a);y.value=s>0?Math.min(100,l/s*100):0;const c=n>f.threshold;c!==w.value&&(w.value=c)},z=((e,t)=>{let a;return function(){a||(e(),a=!0,setTimeout(()=>a=!1,t))}})(C,16),_=()=>{z()},L=()=>{C()};return n(()=>{b.value=!0,i(()=>{C()}),window.addEventListener("scroll",_,{passive:!0}),window.addEventListener("resize",L,{passive:!0})}),r(()=>{window.removeEventListener("scroll",_),window.removeEventListener("resize",L)}),v({progress:l(y)}),(e,t)=>d(b)?(u(),s("div",{key:0,class:p(["reading-progress-container",{visible:d(w)}])},[m("div",{class:"reading-progress-bar",style:g({width:`${d(y)}%`})},null,4),e.showCircular?(u(),s("div",{key:0,class:p(["reading-progress-circular",{show:d(w)}])},[(u(),s("svg",U,[t[0]||(t[0]=m("circle",{class:"progress-ring-background",cx:"30",cy:"30",r:"26"},null,-1)),m("circle",{class:"progress-ring-progress",cx:"30",cy:"30",r:"26","stroke-dasharray":x,"stroke-dashoffset":d(k)},null,8,V)])),m("div",N,h(Math.round(d(y)))+"% ",1)],2)):c("",!0)],2)):c("",!0)}}),[["__scopeId","data-v-02e15936"]]),W={class:"text-xl dark:text-zinc-300 md:text-3xl lg:text-4xl m-7 font-bold text-center"},Z={class:"text-xs sm:text-sm my-3 max-w-xl mx-auto text-center text-zinc-600 dark:text-zinc-400"},D={class:"flex w-full justify-center text-xs md:text-base my-8"},F={class:"md:flex text-black dark:text-zinc-300 content-center gap-8 text-xs sm:text-sm"},O={class:"flex items-center font-semibold"},G={class:"flex items-center gap-2 flex-wrap my-5"},P={class:"bg-gray-200 dark:bg-slate-900 rounded-md px-2 py-1 font-semibold hover:bg-gray-300 dark:hover:bg-slate-800 transition-colors duration-200"},X=e({__name:"BlogHeader",props:{title:{default:"no-title"},image:{default:"#"},alt:{default:"no-img"},description:{default:"no description"},date:{default:"no-date"},tags:{default:()=>[]}},setup:e=>(e,t)=>{const a=$,o=b("LogoDate"),n=b("LogoTag"),i=j;return u(),s("header",null,[m("h1",W,h(e.title||""),1),v(a,{src:e.image||"",alt:e.alt||"",width:"600",class:"m-auto rounded-2xl shadow-lg h-32 md:h-72 w-4/6 md:w-4/5 content-center object-cover"},null,8,["src","alt"]),m("p",Z,h(e.description),1),m("div",D,[m("div",F,[m("div",O,[v(o),m("p",null,h(e.date||""),1)]),m("div",G,[v(n),(u(!0),s(f,null,y(e.tags,e=>(u(),w(i,{key:e,to:`/categories/${e?.toLocaleLowerCase()||""}`},{default:x(()=>[m("span",P,h(e),1)]),_:2},1032,["to"]))),128))])])])])}}),Y={class:"social-share"},J={key:0,class:"share-title"},K=["onClick"],Q={key:0,class:"share-label"},ee={key:2,class:"share-label"},te=L(e({__name:"SocialShare",props:{url:{default:""},shareTitle:{default:""},description:{default:""},hashtags:{default:()=>[]},platforms:{default:()=>["twitter","facebook","linkedin","weibo","wechat"]},showTitle:{type:Boolean,default:!0},title:{default:"分享到"},showLabels:{type:Boolean,default:!0},layout:{default:"horizontal"},showCopyLink:{type:Boolean,default:!0},size:{default:"medium"}},setup(e){const t=e;M();const n=a(!1),i=o(()=>t.url?t.url:window.location.href),r=o(()=>({url:i.value,title:t.shareTitle||document?.title||"",description:t.description||"",hashtags:t.hashtags})),l=()=>C("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[C("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})]),v=()=>C("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[C("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})]),b=[{name:"twitter",label:"Twitter",color:"#1DA1F2",icon:()=>C("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[C("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})]),url:e=>{const t=`${e.title} ${e.hashtags?.map(e=>`#${e}`).join(" ")||""}`;return`https://twitter.com/intent/tweet?text=${encodeURIComponent(t)}&url=${encodeURIComponent(e.url)}`}},{name:"facebook",label:"Facebook",color:"#4267B2",icon:()=>C("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[C("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})]),url:e=>`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(e.url)}`},{name:"linkedin",label:"LinkedIn",color:"#0077B5",icon:()=>C("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[C("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})]),url:e=>`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(e.url)}`},{name:"weibo",label:"微博",color:"#E6162D",icon:()=>C("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[C("path",{d:"M10.098 20.323c-3.977.391-7.414-1.406-7.672-4.02-.259-2.609 2.759-5.047 6.74-5.441 3.979-.394 7.413 1.404 7.671 4.018.259 2.6-2.759 5.049-6.739 5.443zm8.717-8.922c-.332-.066-.562-.132-.384-.475.384-.723.424-1.349.125-1.798-.559-.84-2.095-.795-3.863-.026 0 0-.554.246-.413-.199.27-.891.23-1.638-.158-2.067-.887-.982-3.245.037-5.273 2.277-1.519 1.678-2.406 3.445-2.406 4.976 0 2.952 3.771 4.746 7.466 4.746 4.84 0 8.067-2.807 8.067-5.042 0-1.349-1.138-2.119-2.161-2.392z"})]),url:e=>`https://service.weibo.com/share/share.php?url=${encodeURIComponent(e.url)}&title=${encodeURIComponent(e.title)}`},{name:"wechat",label:"微信",color:"#07C160",icon:()=>C("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[C("path",{d:"M8.691 2.188C3.891 2.188 0 5.476 0 9.53c0 2.212 1.17 4.203 3.002 5.55a.59.59 0 01.213.665l-.39 1.48c-.019.07-.048.141-.048.213 0 .163.13.295.29.295a.326.326 0 00.167-.054l1.903-1.114a.864.864 0 01.717-.098 10.16 10.16 0 002.837.403c.276 0 .543-.027.811-.05-.857-2.578.157-4.972 1.932-6.446 1.703-1.415 3.882-1.98 5.853-1.838-.576-3.583-4.196-6.348-8.596-6.348zM5.785 5.991c.642 0 1.162.529 1.162 1.18 0 .659-.52 1.188-1.162 1.188-.642 0-1.162-.529-1.162-1.188 0-.651.52-1.18 1.162-1.18zm5.813 0c.642 0 1.162.529 1.162 1.18 0 .659-.52 1.188-1.162 1.188-.642 0-1.162-.529-1.162-1.188 0-.651.52-1.18 1.162-1.18zm7.278 5.135c-3.558 0-6.407 2.351-6.407 5.244 0 2.893 2.849 5.244 6.407 5.244a7.788 7.788 0 002.186-.31c.19-.054.41-.027.567.068l1.462.853a.235.235 0 00.121.04.214.214 0 00.210-.214c0-.053-.021-.105-.035-.158l-.3-1.073a.427.427 0 01.154-.482c1.408-1.033 2.272-2.568 2.272-4.244 0-2.893-2.849-5.244-6.407-5.244l-.23.002zm-2.502 2.985c.46 0 .833.382.833.853 0 .47-.373.852-.833.852s-.833-.382-.833-.852c0-.471.373-.853.833-.853zm5.005 0c.46 0 .833.382.833.853 0 .47-.373.852-.833.852s-.833-.382-.833-.852c0-.471.373-.853.833-.853z"})]),url:e=>`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(e.url)}`}],x=o(()=>b.filter(e=>t.platforms.includes(e.name))),z=o(()=>({"layout-horizontal":"horizontal"===t.layout,"layout-vertical":"vertical"===t.layout,"layout-grid":"grid"===t.layout,[`size-${t.size}`]:!0})),_=e=>{const t=document.createElement("div");t.className="qr-modal",t.innerHTML=`\n    <div class="qr-modal-content">\n      <div class="qr-modal-header">\n        <h3>微信扫码分享</h3>\n        <button class="qr-modal-close">&times;</button>\n      </div>\n      <div class="qr-modal-body">\n        <img src="${e}" alt="微信分享二维码" />\n        <p>使用微信扫描二维码分享</p>\n      </div>\n    </div>\n  `;const a=document.createElement("style");a.textContent="\n    .qr-modal {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.5);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 9999;\n    }\n    .qr-modal-content {\n      background: white;\n      border-radius: 8px;\n      padding: 20px;\n      max-width: 300px;\n      text-align: center;\n    }\n    .qr-modal-header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-bottom: 20px;\n    }\n    .qr-modal-close {\n      background: none;\n      border: none;\n      font-size: 24px;\n      cursor: pointer;\n    }\n    .qr-modal-body img {\n      width: 200px;\n      height: 200px;\n    }\n  ",document.head.appendChild(a),document.body.appendChild(t);const o=()=>{document.body.removeChild(t),document.head.removeChild(a)};t.querySelector(".qr-modal-close")?.addEventListener("click",o),t.addEventListener("click",e=>{e.target===t&&o()})},L=async()=>{try{await navigator.clipboard.writeText(i.value),n.value=!0,setTimeout(()=>{n.value=!1},2e3)}catch(e){}};return(e,t)=>(u(),s("div",Y,[e.showTitle?(u(),s("h3",J,h(e.title),1)):c("",!0),m("div",{class:p(["share-buttons",d(z)])},[(u(!0),s(f,null,y(d(x),t=>(u(),s("button",{key:t.name,class:p(["share-button",`share-${t.name}`,{"with-label":e.showLabels}]),style:g({backgroundColor:t.color}),onClick:e=>(e=>{const t=e.url(r.value);"wechat"===e.name?_(t):window.open(t,"_blank","width=600,height=400")})(t)},[(u(),w(k(t.icon),{class:"share-icon"})),e.showLabels?(u(),s("span",Q,h(t.label),1)):c("",!0)],14,K))),128)),e.showCopyLink?(u(),s("button",{key:0,class:p(["share-button share-copy",{"with-label":e.showLabels,copied:d(n)}]),onClick:L},[d(n)?(u(),w(v,{key:1,class:"share-icon"})):(u(),w(l,{key:0,class:"share-icon"})),e.showLabels?(u(),s("span",ee,h(d(n)?"已复制":"复制链接"),1)):c("",!0)],2)):c("",!0)],2)]))}}),[["__scopeId","data-v-716eaa8f"]]),ae={class:"comments-section mt-12 pt-8 border-t border-gray-200 dark:border-gray-700"},oe={key:0,class:"fallback-comments"},ne=L(e({__name:"Comments",props:{identifier:{default:""},title:{default:""},theme:{default:"auto"},enabled:{type:Boolean,default:!0}},setup(e){const t=e,l=a(),p=a(!1),{$colorMode:g}=B(),h="your-username/your-repo",v="your-repo-id",f="General",y="your-category-id",b="pathname",w="0",x="1",k="0",C="bottom",_="zh-CN",L="lazy",$=o(()=>"auto"===t.theme?"dark"===g?.value?"dark":"light":t.theme),j=()=>{if(!t.enabled||!l.value)return;l.value.innerHTML="";const e=document.createElement("script");e.src="https://giscus.app/client.js",e.setAttribute("data-repo",h),e.setAttribute("data-repo-id",v),e.setAttribute("data-category",f),e.setAttribute("data-category-id",y),e.setAttribute("data-mapping",b),e.setAttribute("data-strict",w),e.setAttribute("data-reactions-enabled",x),e.setAttribute("data-emit-metadata",k),e.setAttribute("data-input-position",C),e.setAttribute("data-theme",$.value),e.setAttribute("data-lang",_),e.setAttribute("data-loading",L),e.crossOrigin="anonymous",e.async=!0,e.onload=()=>{p.value=!0},e.onerror=()=>{p.value=!1},l.value.appendChild(e)};return z($,()=>{p.value?(()=>{if(!p.value)return;const e=l.value?.querySelector("iframe");if(e){const t={type:"set-theme",theme:$.value};e.contentWindow?.postMessage({giscus:t},"https://giscus.app")}})():j()}),n(()=>{i(()=>{j()})}),r(()=>{l.value&&(l.value.innerHTML="")}),(e,t)=>(u(),s("div",ae,[t[1]||(t[1]=m("h3",{class:"text-2xl font-bold mb-6 text-gray-900 dark:text-white"}," 评论 ",-1)),m("div",{ref_key:"giscusContainer",ref:l,class:"giscus-container"},null,512),d(p)?c("",!0):(u(),s("div",oe,[...t[0]||(t[0]=[m("div",{class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-6"},[m("p",{class:"text-gray-600 dark:text-gray-400 text-center"}," 评论系统正在加载中... "),m("p",{class:"text-sm text-gray-500 dark:text-gray-500 text-center mt-2"}," 如果长时间未加载，请检查网络连接或刷新页面 ")],-1)])]))]))}}),[["__scopeId","data-v-8a239115"]]),ie={class:"px-6 container max-w-5xl mx-auto sm:grid grid-cols-12 gap-x-12"},re={class:"col-span-12 lg:col-span-9"},le={class:"prose prose-pre:max-w-xs sm:prose-pre:max-w-full prose-sm sm:prose-base md:prose-lg prose-h1:no-underline max-w-5xl mx-auto prose-zinc dark:prose-invert prose-img:rounded-lg"},se=e({__name:"[blog]",async setup(e){let t,a;const{path:n}=M(),{data:i,error:r}=([t,a]=_(async()=>H(`blog-post-${n}`,async()=>await R(n).findOne())),t=await t,a(),t);r.value&&A("/404");const p=o(()=>{const e=i?.value?.meta;return{title:i.value?.title||"no-title available",description:i.value?.description||"no-description available",image:e?.image||"/not-found.jpg",alt:e?.alt||"no alter data available",ogImage:e?.ogImage||"/not-found.jpg",date:e?.date||"not-date-available",tags:e?.tags||[],published:e?.published||!1}});return((e={})=>{const t=M(),a=q().public.siteUrl||"https://your-domain.com",n="LiZhiWei Blog",i=o(()=>{const o=e.url||`${a}${t.path}`;return{title:e.title?`${e.title} | ${n}`:n,description:e.description||"分享技术、思考和生活的个人博客，专注于前端开发、Vue.js、Nuxt.js等技术分享",image:e.image?`${a}${e.image}`:`${a}/preview1.png`,url:o,type:e.type||"website",author:e.author,publishedTime:e.publishedTime,modifiedTime:e.modifiedTime,tags:e.tags,category:e.category}});I({title:i.value.title,meta:[{name:"description",content:i.value.description},{name:"keywords",content:i.value.tags?.join(", ")||"blog, 技术, 前端, Vue.js, Nuxt.js"},{name:"author",content:i.value.author||"LiZhiWei"},{property:"og:title",content:i.value.title},{property:"og:description",content:i.value.description},{property:"og:image",content:i.value.image},{property:"og:url",content:i.value.url},{property:"og:type",content:"article"===i.value.type?"article":"website"},{property:"og:site_name",content:n},{property:"og:locale",content:"zh_CN"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:i.value.title},{name:"twitter:description",content:i.value.description},{name:"twitter:image",content:i.value.image},{name:"twitter:site",content:"@your_twitter"},{name:"twitter:creator",content:"@your_twitter"},..."article"===i.value.type&&i.value.publishedTime?[{property:"article:published_time",content:i.value.publishedTime},{property:"article:modified_time",content:i.value.modifiedTime||i.value.publishedTime},{property:"article:author",content:i.value.author||"LiZhiWei"},{property:"article:section",content:i.value.category||"Technology"},...i.value.tags?.map(e=>({property:"article:tag",content:e}))||[]]:[],{name:"robots",content:e.noIndex?"noindex, nofollow":"index, follow"},{name:"googlebot",content:"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"},{name:"viewport",content:"width=device-width, initial-scale=1.0"},{name:"format-detection",content:"telephone=no"},{name:"theme-color",content:"#3b82f6"},{name:"msapplication-TileColor",content:"#3b82f6"},{name:"language",content:"zh-CN"},{name:"geo.region",content:"CN"},{name:"geo.country",content:"China"}],link:[{rel:"canonical",href:e.canonical||i.value.url},{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},{rel:"alternate",type:"application/rss+xml",title:`${n} RSS Feed`,href:`${a}/rss.xml`},{rel:"icon",type:"image/x-icon",href:"/favicon.ico"},{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png"},{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon-32x32.png"},{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon-16x16.png"},{rel:"manifest",href:"/site.webmanifest"}],script:[]}),l(i)})({title:p.value.title,description:p.value.description,image:p.value.image,type:"article",author:"LiZhiWei",publishedTime:p.value.date,tags:p.value.tags,category:p.value.tags?.[0]}),E("Test",{title:i.value?.seo.title||"",description:i.value?.seo.description||"",link:p.value.ogImage}),(e,t)=>{const a=S,o=b("UiStructuredData"),r=X,l=T,g=te,h=ne,f=b("BlogToc");return u(),s("div",null,[v(a,{"show-circular":!0,target:".prose"}),v(o,{title:d(p).title,description:d(p).description,image:d(p).image,date:d(p).date,author:"Riyad",tags:d(p).tags,type:"article"},null,8,["title","description","image","date","tags"]),m("div",ie,[m("div",re,[v(r,{title:d(p).title,image:d(p).image,alt:d(p).alt,date:d(p).date,description:d(p).description,tags:d(p).tags},null,8,["title","image","alt","date","description","tags"]),m("div",le,[d(i)?(u(),w(l,{key:0,value:d(i)},{empty:x(()=>[...t[0]||(t[0]=[m("p",null,"No content found.",-1)])]),_:1},8,["value"])):c("",!0)]),v(g,{"share-title":d(p).title,description:d(p).description,hashtags:d(p).tags,platforms:["twitter","facebook","linkedin","weibo"],layout:"horizontal",size:"medium"},null,8,["share-title","description","hashtags"]),v(h,{identifier:d(n),title:d(p).title},null,8,["identifier","title"])]),v(f),t[1]||(t[1]=m("div",{class:"flex flex-row flex-wrap md:flex-nowrap mt-10 gap-2"},null,-1))])])}}});export{se as default};
