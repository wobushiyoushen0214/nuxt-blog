import"@nuxt/kit";const t=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,e=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,r=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function n(t,e){if(!("__proto__"===t||"constructor"===t&&e&&"object"==typeof e&&"prototype"in e))return e}function s(s,o={}){if("string"!=typeof s)return s;if('"'===s[0]&&'"'===s[s.length-1]&&-1===s.indexOf("\\"))return s.slice(1,-1);const i=s.trim();if(i.length<=9)switch(i.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!r.test(s)){if(o.strict)throw new SyntaxError("[destr] Invalid JSON");return s}try{if(t.test(s)||e.test(s)){if(o.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(s,n)}return JSON.parse(s)}catch(a){if(o.strict)throw a;return s}}const o=/#/g,i=/&/g,a=/\//g,c=/=/g,u=/\?/g,l=/\+/g,p=/%5e/gi,f=/%60/gi,h=/%7c/gi,d=/%20/gi,y=/%252f/gi;function m(t){return encodeURI(""+t).replace(h,"|")}function g(t){return m("string"==typeof t?t:JSON.stringify(t)).replace(l,"%2B").replace(d,"+").replace(o,"%23").replace(i,"%26").replace(f,"`").replace(p,"^").replace(a,"%2F")}function w(t){return g(t).replace(c,"%3D")}function b(t){return m(t).replace(o,"%23").replace(u,"%3F").replace(y,"%2F").replace(i,"%26").replace(l,"%2B")}function v(t){return b(t).replace(a,"%2F")}function I(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function S(t){return I(t.replace(l," "))}function _(t){return I(t.replace(l," "))}function j(t=""){const e=Object.create(null);"?"===t[0]&&(t=t.slice(1));for(const r of t.split("&")){const t=r.match(/([^=]+)=?(.*)/)||[];if(t.length<2)continue;const n=S(t[1]);if("__proto__"===n||"constructor"===n)continue;const s=_(t[2]||"");void 0===e[n]?e[n]=s:Array.isArray(e[n])?e[n].push(s):e[n]=[e[n],s]}return e}function B(t){return Object.keys(t).filter(e=>void 0!==t[e]).map(e=>{return r=e,"number"!=typeof(n=t[e])&&"boolean"!=typeof n||(n=String(n)),n?Array.isArray(n)?n.map(t=>`${w(r)}=${g(t)}`).join("&"):`${w(r)}=${g(n)}`:w(r);var r,n}).filter(Boolean).join("&")}const O=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,A=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,x=/^([/\\]\s*){2,}[^/\\]/,k=/^[\s\0]*(blob|data|javascript|vbscript):$/i,E=/\/$|\/\?|\/#/,T=/^\.?\//;function P(t,e={}){return"boolean"==typeof e&&(e={acceptRelative:e}),e.strict?O.test(t):A.test(t)||!!e.acceptRelative&&x.test(t)}function R(t){return!!t&&k.test(t)}function $(t="",e){return e?E.test(t):t.endsWith("/")}function q(t="",e){if(!e)return($(t)?t.slice(0,-1):t)||"/";if(!$(t,!0))return t||"/";let r=t,n="";const s=t.indexOf("#");-1!==s&&(r=t.slice(0,s),n=t.slice(s));const[o,...i]=r.split("?");return((o.endsWith("/")?o.slice(0,-1):o)||"/")+(i.length>0?`?${i.join("?")}`:"")+n}function K(t="",e){if(!e)return t.endsWith("/")?t:t+"/";if($(t,!0))return t||"/";let r=t,n="";const s=t.indexOf("#");if(-1!==s&&(r=t.slice(0,s),n=t.slice(s),!r))return n;const[o,...i]=r.split("?");return o+"/"+(i.length>0?`?${i.join("?")}`:"")+n}function N(t=""){return function(t=""){return t.startsWith("/")}(t)?t:"/"+t}function M(t,e){if(U(e)||P(t))return t;const r=q(e);return t.startsWith(r)?t:z(r,t)}function C(t,e){if(U(e))return t;const r=q(e);if(!t.startsWith(r))return t;const n=t.slice(r.length);return"/"===n[0]?n:"/"+n}function W(t,e){const r=H(t),n={...j(r.search),...e};return r.search=B(n),function(t){const e=t.pathname||"",r=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",n=t.hash||"",s=t.auth?t.auth+"@":"",o=t.host||"",i=t.protocol||t[J]?(t.protocol||"")+"//":"";return i+s+o+e+r+n}(r)}function U(t){return!t||"/"===t}function z(t,...e){let r=t||"";for(const n of e.filter(t=>function(t){return t&&"/"!==t}(t)))if(r){const t=n.replace(T,"");r=K(r)+t}else r=n;return r}function F(...t){const e=/\/(?!\/)/,r=t.filter(Boolean),n=[];let s=0;for(const i of r)if(i&&"/"!==i)for(const[t,r]of i.split(e).entries())if(r&&"."!==r)if(".."!==r)1===t&&n[n.length-1]?.endsWith(":/")?n[n.length-1]+="/"+r:(n.push(r),s++);else{if(1===n.length&&P(n[0]))continue;n.pop(),s--}let o=n.join("/");return s>=0?r[0]?.startsWith("/")&&!o.startsWith("/")?o="/"+o:r[0]?.startsWith("./")&&!o.startsWith("./")&&(o="./"+o):o="../".repeat(-1*s)+o,r[r.length-1]?.endsWith("/")&&!o.endsWith("/")&&(o+="/"),o}function L(t){return function(t,e){let r=t.match(A);r||(r=t.match(/^\/{2,}/));if(!r)return e+t;return e+t.slice(r[0].length)}(t,"https://")}function D(t,e){return I(q(t))===I(q(e))}const J=Symbol.for("ufo:protocolRelative");function H(t="",e){const r=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(r){const[,t,e=""]=r;return{protocol:t.toLowerCase(),pathname:e,href:t+e,auth:"",host:"",search:"",hash:""}}if(!P(t,{acceptRelative:!0}))return V(t);const[,n="",s,o=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,i="",a=""]=o.match(/([^#/?]*)(.*)?/)||[];"file:"===n&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:c,search:u,hash:l}=V(a);return{protocol:n.toLowerCase(),auth:s?s.slice(0,Math.max(0,s.length-1)):"",host:i,pathname:c,search:u,hash:l,[J]:!n}}function V(t=""){const[e="",r="",n=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:r,hash:n}}class G extends Error{constructor(t,e){super(t,e),this.name="FetchError",e?.cause&&!this.cause&&(this.cause=e.cause)}}const Y=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Z(t="GET"){return Y.has(t.toUpperCase())}const Q=new Set(["image/svg","application/xml","application/xhtml","application/html"]),X=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function tt(t,e,r,n){const s=function(t,e,r){if(!e)return new r(t);const n=new r(e);if(t)for(const[s,o]of Symbol.iterator in t||Array.isArray(t)?t:new r(t))n.set(s,o);return n}(e?.headers??t?.headers,r?.headers,n);let o;return(r?.query||r?.params||e?.params||e?.query)&&(o={...r?.params,...r?.query,...e?.params,...e?.query}),{...r,...e,query:o,params:o,headers:s}}async function et(t,e){if(e)if(Array.isArray(e))for(const r of e)await r(t);else await e(t)}const rt=new Set([408,409,425,429,500,502,503,504]),nt=new Set([101,204,205,304]);const st=function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}(),ot=function t(e={}){const{fetch:r=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:o=globalThis.AbortController}=e;async function i(t){const e=t.error&&"AbortError"===t.error.name&&!t.options.timeout||!1;if(!1!==t.options.retry&&!e){let e;e="number"==typeof t.options.retry?t.options.retry:Z(t.options.method)?0:1;const r=t.response&&t.response.status||500;if(e>0&&(Array.isArray(t.options.retryStatusCodes)?t.options.retryStatusCodes.includes(r):rt.has(r))){const r="function"==typeof t.options.retryDelay?t.options.retryDelay(t):t.options.retryDelay||0;return r>0&&await new Promise(t=>setTimeout(t,r)),a(t.request,{...t.options,retry:e-1})}}const r=function(t){const e=t.error?.message||t.error?.toString()||"",r=t.request?.method||t.options?.method||"GET",n=t.request?.url||String(t.request)||"/",s=`[${r}] ${JSON.stringify(n)}`,o=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",i=new G(`${s}: ${o}${e?` ${e}`:""}`,t.error?{cause:t.error}:void 0);for(const a of["request","options","response"])Object.defineProperty(i,a,{get:()=>t[a]});for(const[a,c]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(i,a,{get:()=>t.response&&t.response[c]});return i}(t);throw Error.captureStackTrace&&Error.captureStackTrace(r,a),r}const a=async function(t,a={}){const c={request:t,options:tt(t,a,e.defaults,n),response:void 0,error:void 0};let u;if(c.options.method&&(c.options.method=c.options.method.toUpperCase()),c.options.onRequest&&await et(c,c.options.onRequest),"string"==typeof c.request&&(c.options.baseURL&&(c.request=M(c.request,c.options.baseURL)),c.options.query&&(c.request=W(c.request,c.options.query),delete c.options.query),"query"in c.options&&delete c.options.query,"params"in c.options&&delete c.options.params),c.options.body&&Z(c.options.method)&&(!function(t){if(void 0===t)return!1;const e=typeof t;return"string"===e||"number"===e||"boolean"===e||null===e||"object"===e&&(!!Array.isArray(t)||!t.buffer&&(t.constructor&&"Object"===t.constructor.name||"function"==typeof t.toJSON))}(c.options.body)?("pipeTo"in c.options.body&&"function"==typeof c.options.body.pipeTo||"function"==typeof c.options.body.pipe)&&("duplex"in c.options||(c.options.duplex="half")):(c.options.body="string"==typeof c.options.body?c.options.body:JSON.stringify(c.options.body),c.options.headers=new n(c.options.headers||{}),c.options.headers.has("content-type")||c.options.headers.set("content-type","application/json"),c.options.headers.has("accept")||c.options.headers.set("accept","application/json"))),!c.options.signal&&c.options.timeout){const t=new o;u=setTimeout(()=>{const e=new Error("[TimeoutError]: The operation was aborted due to timeout");e.name="TimeoutError",e.code=23,t.abort(e)},c.options.timeout),c.options.signal=t.signal}try{c.response=await r(c.request,c.options)}catch(l){return c.error=l,c.options.onRequestError&&await et(c,c.options.onRequestError),await i(c)}finally{u&&clearTimeout(u)}if((c.response.body||c.response._bodyInit)&&!nt.has(c.response.status)&&"HEAD"!==c.options.method){const t=(c.options.parseResponse?"json":c.options.responseType)||function(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return X.test(e)?"json":Q.has(e)||e.startsWith("text/")?"text":"blob"}(c.response.headers.get("content-type")||"");switch(t){case"json":{const t=await c.response.text(),e=c.options.parseResponse||s;c.response._data=e(t);break}case"stream":c.response._data=c.response.body||c.response._bodyInit;break;default:c.response._data=await c.response[t]()}}return c.options.onResponse&&await et(c,c.options.onResponse),!c.options.ignoreResponseError&&c.response.status>=400&&c.response.status<600?(c.options.onResponseError&&await et(c,c.options.onResponseError),await i(c)):c.response},c=async function(t,e){return(await a(t,e))._data};return c.raw=a,c.native=(...t)=>r(...t),c.create=(r={},n={})=>t({...e,...n,defaults:{...e.defaults,...n.defaults,...r}}),c}({fetch:st.fetch?(...t)=>st.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),Headers:st.Headers,AbortController:st.AbortController}),it=ot;function at(t){if(null===t||"object"!=typeof t)return!1;const e=Object.getPrototypeOf(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&(!(Symbol.iterator in t)&&(!(Symbol.toStringTag in t)||"[object Module]"===Object.prototype.toString.call(t)))}function ct(t,e,r=".",n){if(!at(e))return ct(t,{},r,n);const s=Object.assign({},e);for(const o in t){if("__proto__"===o||"constructor"===o)continue;const e=t[o];null!=e&&(n&&n(s,o,e,r)||(Array.isArray(e)&&Array.isArray(s[o])?s[o]=[...e,...s[o]]:at(e)&&at(s[o])?s[o]=ct(e,s[o],(r?`${r}.`:"")+o.toString(),n):s[o]=e))}return s}function ut(t){return(...e)=>e.reduce((e,r)=>ct(e,r,"",t),{})}const lt=ut(),pt=ut((t,e,r)=>{if(void 0!==t[e]&&"function"==typeof r)return t[e]=r(t[e]),!0}),ft={},ht=function(t,e,r){let n=Promise.resolve();if(e&&e.length>0){let t=function(t){return Promise.all(t.map(t=>Promise.resolve(t).then(t=>({status:"fulfilled",value:t}),t=>({status:"rejected",reason:t}))))};const s=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),i=o?.nonce||o?.getAttribute("nonce");n=t(e.map(t=>{if(t=function(t,e){return new URL(t,e).href}(t,r),t in ft)return;ft[t]=!0;const e=t.endsWith(".css"),n=e?'[rel="stylesheet"]':"";if(!!r)for(let r=s.length-1;r>=0;r--){const n=s[r];if(n.href===t&&(!e||"stylesheet"===n.rel))return}else if(document.querySelector(`link[href="${t}"]${n}`))return;const o=document.createElement("link");return o.rel=e?"stylesheet":"modulepreload",e||(o.as="script"),o.crossOrigin="",o.href=t,i&&o.setAttribute("nonce",i),document.head.appendChild(o),e?new Promise((e,r)=>{o.addEventListener("load",e),o.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${t}`)))}):void 0}))}function s(t){const e=new Event("vite:preloadError",{cancelable:!0});if(e.payload=t,window.dispatchEvent(e),!e.defaultPrevented)throw t}return n.then(e=>{for(const t of e||[])"rejected"===t.status&&s(t.reason);return t().catch(s)})},dt=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});function yt(t,e){const r=gt(e=e?{...dt,...e}:dt);return r.dispatch(t),r.toString()}const mt=Object.freeze(["prototype","__proto__","constructor"]);function gt(t){let e="",r=new Map;const n=t=>{e+=t};return{toString:()=>e,getContext:()=>r,dispatch(e){t.replacer&&(e=t.replacer(e));return this[null===e?"null":typeof e](e)},object(e){if(e&&"function"==typeof e.toJSON)return this.object(e.toJSON());const s=Object.prototype.toString.call(e);let o="";const i=s.length;o=i<10?"unknown:["+s+"]":s.slice(8,i-1),o=o.toLowerCase();let a=null;if(void 0!==(a=r.get(e)))return this.dispatch("[CIRCULAR:"+a+"]");if(r.set(e,r.size),"undefined"!=typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(e))return n("buffer:"),n(e.toString("utf8"));if("object"!==o&&"function"!==o&&"asyncfunction"!==o)this[o]?this[o](e):t.ignoreUnknown||this.unkown(e,o);else{let r=Object.keys(e);t.unorderedObjects&&(r=r.sort());let s=[];!1===t.respectType||vt(e)||(s=mt),t.excludeKeys&&(r=r.filter(e=>!t.excludeKeys(e)),s=s.filter(e=>!t.excludeKeys(e))),n("object:"+(r.length+s.length)+":");const o=r=>{this.dispatch(r),n(":"),t.excludeValues||this.dispatch(e[r]),n(",")};for(const t of r)o(t);for(const t of s)o(t)}},array(e,s){if(s=void 0===s?!1!==t.unorderedArrays:s,n("array:"+e.length+":"),!s||e.length<=1){for(const t of e)this.dispatch(t);return}const o=new Map,i=e.map(e=>{const r=gt(t);r.dispatch(e);for(const[t,n]of r.getContext())o.set(t,n);return r.toString()});return r=o,i.sort(),this.array(i,!1)},date:t=>n("date:"+t.toJSON()),symbol:t=>n("symbol:"+t.toString()),unkown(t,e){if(n(e),t)return n(":"),t&&"function"==typeof t.entries?this.array(Array.from(t.entries()),!0):void 0},error:t=>n("error:"+t.toString()),boolean:t=>n("bool:"+t),string(t){n("string:"+t.length+":"),n(t)},function(e){n("fn:"),vt(e)?this.dispatch("[native]"):this.dispatch(e.toString()),!1!==t.respectFunctionNames&&this.dispatch("function-name:"+String(e.name)),t.respectFunctionProperties&&this.object(e)},number:t=>n("number:"+t),xml:t=>n("xml:"+t.toString()),null:()=>n("Null"),undefined:()=>n("Undefined"),regexp:t=>n("regex:"+t.toString()),uint8array(t){return n("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},uint8clampedarray(t){return n("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(t))},int8array(t){return n("int8array:"),this.dispatch(Array.prototype.slice.call(t))},uint16array(t){return n("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},int16array(t){return n("int16array:"),this.dispatch(Array.prototype.slice.call(t))},uint32array(t){return n("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},int32array(t){return n("int32array:"),this.dispatch(Array.prototype.slice.call(t))},float32array(t){return n("float32array:"),this.dispatch(Array.prototype.slice.call(t))},float64array(t){return n("float64array:"),this.dispatch(Array.prototype.slice.call(t))},arraybuffer(t){return n("arraybuffer:"),this.dispatch(new Uint8Array(t))},url:t=>n("url:"+t.toString()),map(e){n("map:");const r=[...e];return this.array(r,!1!==t.unorderedSets)},set(e){n("set:");const r=[...e];return this.array(r,!1!==t.unorderedSets)},file(t){return n("file:"),this.dispatch([t.name,t.size,t.type,t.lastModfied])},blob(){if(t.ignoreUnknown)return n("[blob]");throw new Error('Hashing Blob objects is currently not supported\nUse "options.replacer" or "options.ignoreUnknown"\n')},domwindow:()=>n("domwindow"),bigint:t=>n("bigint:"+t.toString()),process:()=>n("process"),timer:()=>n("timer"),pipe:()=>n("pipe"),tcp:()=>n("tcp"),udp:()=>n("udp"),tty:()=>n("tty"),statwatcher:()=>n("statwatcher"),securecontext:()=>n("securecontext"),connection:()=>n("connection"),zlib:()=>n("zlib"),context:()=>n("context"),nodescript:()=>n("nodescript"),httpparser:()=>n("httpparser"),dataview:()=>n("dataview"),signal:()=>n("signal"),fsevent:()=>n("fsevent"),tlswrap:()=>n("tlswrap")}}const wt="[native code] }",bt=wt.length;function vt(t){return"function"==typeof t&&Function.prototype.toString.call(t).slice(-bt)===wt}class It{words;sigBytes;constructor(t,e){t=this.words=t||[],this.sigBytes=void 0===e?4*t.length:e}toString(t){return(t||St).stringify(this)}concat(t){if(this.clamp(),this.sigBytes%4)for(let e=0;e<t.sigBytes;e++){const r=t.words[e>>>2]>>>24-e%4*8&255;this.words[this.sigBytes+e>>>2]|=r<<24-(this.sigBytes+e)%4*8}else for(let e=0;e<t.sigBytes;e+=4)this.words[this.sigBytes+e>>>2]=t.words[e>>>2];return this.sigBytes+=t.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new It([...this.words])}}const St={stringify(t){const e=[];for(let r=0;r<t.sigBytes;r++){const n=t.words[r>>>2]>>>24-r%4*8&255;e.push((n>>>4).toString(16),(15&n).toString(16))}return e.join("")}},_t={stringify(t){const e=[];for(let r=0;r<t.sigBytes;r+=3){const n=(t.words[r>>>2]>>>24-r%4*8&255)<<16|(t.words[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|t.words[r+2>>>2]>>>24-(r+2)%4*8&255;for(let s=0;s<4&&8*r+6*s<8*t.sigBytes;s++)e.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n>>>6*(3-s)&63))}return e.join("")}},jt={parse(t){const e=t.length,r=[];for(let n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new It(r,e)}},Bt={parse:t=>jt.parse(unescape(encodeURIComponent(t)))};class Ot{_data=new It;_nDataBytes=0;_minBufferSize=0;blockSize=16;reset(){this._data=new It,this._nDataBytes=0}_append(t){"string"==typeof t&&(t=Bt.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes}_doProcessBlock(t,e){}_process(t){let e,r=this._data.sigBytes/(4*this.blockSize);r=t?Math.ceil(r):Math.max((0|r)-this._minBufferSize,0);const n=r*this.blockSize,s=Math.min(4*n,this._data.sigBytes);if(n){for(let t=0;t<n;t+=this.blockSize)this._doProcessBlock(this._data.words,t);e=this._data.words.splice(0,n),this._data.sigBytes-=s}return new It(e,s)}}class At extends Ot{update(t){return this._append(t),this._process(),this}finalize(t){t&&this._append(t)}}const xt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],kt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Et=[];class Tt extends At{_hash=new It([...xt]);reset(){super.reset(),this._hash=new It([...xt])}_doProcessBlock(t,e){const r=this._hash.words;let n=r[0],s=r[1],o=r[2],i=r[3],a=r[4],c=r[5],u=r[6],l=r[7];for(let p=0;p<64;p++){if(p<16)Et[p]=0|t[e+p];else{const t=Et[p-15],e=(t<<25|t>>>7)^(t<<14|t>>>18)^t>>>3,r=Et[p-2],n=(r<<15|r>>>17)^(r<<13|r>>>19)^r>>>10;Et[p]=e+Et[p-7]+n+Et[p-16]}const r=n&s^n&o^s&o,f=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),h=l+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&c^~a&u)+kt[p]+Et[p];l=u,u=c,c=a,a=i+h|0,i=o,o=s,s=n,n=h+(f+r)|0}r[0]=r[0]+n|0,r[1]=r[1]+s|0,r[2]=r[2]+o|0,r[3]=r[3]+i|0,r[4]=r[4]+a|0,r[5]=r[5]+c|0,r[6]=r[6]+u|0,r[7]=r[7]+l|0}finalize(t){super.finalize(t);const e=8*this._nDataBytes,r=8*this._data.sigBytes;return this._data.words[r>>>5]|=128<<24-r%32,this._data.words[14+(r+64>>>9<<4)]=Math.floor(e/4294967296),this._data.words[15+(r+64>>>9<<4)]=e,this._data.sigBytes=4*this._data.words.length,this._process(),this._hash}}function Pt(t,e={}){const r="string"==typeof t?t:yt(t,e);return(n=r,(new Tt).finalize(n).toString(_t)).slice(0,10);var n}function Rt(t){return t}function $t(t,...e){try{return(r=t(...e))&&"function"==typeof r.then?r:Promise.resolve(r)}catch(n){return Promise.reject(n)}var r}function qt(t){if(function(t){const e=typeof t;return null===t||"object"!==e&&"function"!==e}(t))return String(t);if(function(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}(t)||Array.isArray(t))return JSON.stringify(t);if("function"==typeof t.toJSON)return qt(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const Kt="base64:";function Nt(t){return"string"==typeof t?t:Kt+function(t){if(globalThis.Buffer)return Buffer.from(t).toString("base64");return globalThis.btoa(String.fromCodePoint(...t))}(t)}function Mt(t){return"string"!=typeof t?t:t.startsWith(Kt)?function(t){if(globalThis.Buffer)return Buffer.from(t,"base64");return Uint8Array.from(globalThis.atob(t),t=>t.codePointAt(0))}(t.slice(7)):t}const Ct=["has","hasItem","get","getItem","getItemRaw","set","setItem","setItemRaw","del","remove","removeItem","getMeta","setMeta","removeMeta","getKeys","clear","mount","unmount"];function Wt(t,e){if(!(e=Ft(e)))return t;const r={...t};for(const n of Ct)r[n]=(r="",...s)=>t[n](e+r,...s);return r.getKeys=(r="",...n)=>t.getKeys(e+r,...n).then(t=>t.map(t=>t.slice(e.length))),r.keys=r.getKeys,r.getItems=async(r,n)=>{const s=r.map(t=>"string"==typeof t?e+t:{...t,key:e+t.key});return(await t.getItems(s,n)).map(t=>({key:t.key.slice(e.length),value:t.value}))},r.setItems=async(r,n)=>{const s=r.map(t=>({key:e+t.key,value:t.value,options:t.options}));return t.setItems(s,n)},r}function Ut(t){return t&&t.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function zt(...t){return Ut(t.join(":"))}function Ft(t){return(t=Ut(t))?t+":":""}const Lt=()=>{const t=new Map;return{name:"memory",getInstance:()=>t,hasItem:e=>t.has(e),getItem:e=>t.get(e)??null,getItemRaw:e=>t.get(e)??null,setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys:()=>[...t.keys()],clear(){t.clear()},dispose(){t.clear()}}};function Dt(t={}){const e={mounts:{"":t.driver||Lt()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=t=>{for(const r of e.mountpoints)if(t.startsWith(r))return{base:r,relativeKey:t.slice(r.length),driver:e.mounts[r]};return{base:"",relativeKey:t,driver:e.mounts[""]}},n=(t,r)=>e.mountpoints.filter(e=>e.startsWith(t)||r&&t.startsWith(e)).map(r=>({relativeBase:t.length>r.length?t.slice(r.length):void 0,mountpoint:r,driver:e.mounts[r]})),o=(t,r)=>{if(e.watching){r=Ut(r);for(const n of e.watchListeners)n(t,r)}},i=async()=>{if(e.watching){for(const t in e.unwatch)await e.unwatch[t]();e.unwatch={},e.watching=!1}},a=(t,e,n)=>{const s=new Map,o=t=>{let e=s.get(t.base);return e||(e={driver:t.driver,base:t.base,items:[]},s.set(t.base,e)),e};for(const i of t){const t="string"==typeof i,n=Ut(t?i:i.key),s=t?void 0:i.value,a=t||!i.options?e:{...e,...i.options},c=r(n);o(c).items.push({key:n,value:s,relativeKey:c.relativeKey,options:a})}return Promise.all([...s.values()].map(t=>n(t))).then(t=>t.flat())},c={hasItem(t,e={}){t=Ut(t);const{relativeKey:n,driver:s}=r(t);return $t(s.hasItem,n,e)},getItem(t,e={}){t=Ut(t);const{relativeKey:n,driver:o}=r(t);return $t(o.getItem,n,e).then(t=>s(t))},getItems:(t,e={})=>a(t,e,t=>t.driver.getItems?$t(t.driver.getItems,t.items.map(t=>({key:t.relativeKey,options:t.options})),e).then(e=>e.map(e=>({key:zt(t.base,e.key),value:s(e.value)}))):Promise.all(t.items.map(e=>$t(t.driver.getItem,e.relativeKey,e.options).then(t=>({key:e.key,value:s(t)}))))),getItemRaw(t,e={}){t=Ut(t);const{relativeKey:n,driver:s}=r(t);return s.getItemRaw?$t(s.getItemRaw,n,e):$t(s.getItem,n,e).then(t=>Mt(t))},async setItem(t,e,n={}){if(void 0===e)return c.removeItem(t);t=Ut(t);const{relativeKey:s,driver:i}=r(t);i.setItem&&(await $t(i.setItem,s,qt(e),n),i.watch||o("update",t))},async setItems(t,e){await a(t,e,async t=>{if(t.driver.setItems)return $t(t.driver.setItems,t.items.map(t=>({key:t.relativeKey,value:qt(t.value),options:t.options})),e);t.driver.setItem&&await Promise.all(t.items.map(e=>$t(t.driver.setItem,e.relativeKey,qt(e.value),e.options)))})},async setItemRaw(t,e,n={}){if(void 0===e)return c.removeItem(t,n);t=Ut(t);const{relativeKey:s,driver:i}=r(t);if(i.setItemRaw)await $t(i.setItemRaw,s,e,n);else{if(!i.setItem)return;await $t(i.setItem,s,Nt(e),n)}i.watch||o("update",t)},async removeItem(t,e={}){"boolean"==typeof e&&(e={removeMeta:e}),t=Ut(t);const{relativeKey:n,driver:s}=r(t);s.removeItem&&(await $t(s.removeItem,n,e),(e.removeMeta||e.removeMata)&&await $t(s.removeItem,n+"$",e),s.watch||o("remove",t))},async getMeta(t,e={}){"boolean"==typeof e&&(e={nativeOnly:e}),t=Ut(t);const{relativeKey:n,driver:o}=r(t),i=Object.create(null);if(o.getMeta&&Object.assign(i,await $t(o.getMeta,n,e)),!e.nativeOnly){const t=await $t(o.getItem,n+"$",e).then(t=>s(t));t&&"object"==typeof t&&("string"==typeof t.atime&&(t.atime=new Date(t.atime)),"string"==typeof t.mtime&&(t.mtime=new Date(t.mtime)),Object.assign(i,t))}return i},setMeta(t,e,r={}){return this.setItem(t+"$",e,r)},removeMeta(t,e={}){return this.removeItem(t+"$",e)},async getKeys(t,e={}){t=Ft(t);const r=n(t,!0);let s=[];const o=[];let i=!0;for(const n of r){n.driver.flags?.maxDepth||(i=!1);const t=await $t(n.driver.getKeys,n.relativeBase,e);for(const e of t){const t=n.mountpoint+Ut(e);s.some(e=>t.startsWith(e))||o.push(t)}s=[n.mountpoint,...s.filter(t=>!t.startsWith(n.mountpoint))]}const a=void 0!==e.maxDepth&&!i;return o.filter(r=>(!a||function(t,e){if(void 0===e)return!0;let r=0,n=t.indexOf(":");for(;n>-1;)r++,n=t.indexOf(":",n+1);return r<=e}(r,e.maxDepth))&&function(t,e){return e?t.startsWith(e)&&"$"!==t[t.length-1]:"$"!==t[t.length-1]}(r,t))},async clear(t,e={}){t=Ft(t),await Promise.all(n(t,!1).map(async t=>{if(t.driver.clear)return $t(t.driver.clear,t.relativeBase,e);if(t.driver.removeItem){const r=await t.driver.getKeys(t.relativeBase||"",e);return Promise.all(r.map(r=>t.driver.removeItem(r,e)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(t=>Ht(t)))},watch:async t=>(await(async()=>{if(!e.watching){e.watching=!0;for(const t in e.mounts)e.unwatch[t]=await Jt(e.mounts[t],o,t)}})(),e.watchListeners.push(t),async()=>{e.watchListeners=e.watchListeners.filter(e=>e!==t),0===e.watchListeners.length&&await i()}),async unwatch(){e.watchListeners=[],await i()},mount(t,r){if((t=Ft(t))&&e.mounts[t])throw new Error(`already mounted at ${t}`);return t&&(e.mountpoints.push(t),e.mountpoints.sort((t,e)=>e.length-t.length)),e.mounts[t]=r,e.watching&&Promise.resolve(Jt(r,o,t)).then(r=>{e.unwatch[t]=r}).catch(console.error),c},async unmount(t,r=!0){(t=Ft(t))&&e.mounts[t]&&(e.watching&&t in e.unwatch&&(e.unwatch[t]?.(),delete e.unwatch[t]),r&&await Ht(e.mounts[t]),e.mountpoints=e.mountpoints.filter(e=>e!==t),delete e.mounts[t])},getMount(t=""){t=Ut(t)+":";const e=r(t);return{driver:e.driver,base:e.base}},getMounts(t="",e={}){t=Ut(t);return n(t,e.parents).map(t=>({driver:t.driver,base:t.mountpoint}))},keys:(t,e={})=>c.getKeys(t,e),get:(t,e={})=>c.getItem(t,e),set:(t,e,r={})=>c.setItem(t,e,r),has:(t,e={})=>c.hasItem(t,e),del:(t,e={})=>c.removeItem(t,e),remove:(t,e={})=>c.removeItem(t,e)};return c}function Jt(t,e,r){return t.watch?t.watch((t,n)=>e(t,r+n)):()=>{}}async function Ht(t){"function"==typeof t.dispose&&await $t(t.dispose)}export{it as $,ht as _,j as a,s as b,C as c,lt as d,D as e,L as f,z as g,P as h,R as i,F as j,K as k,Pt as l,M as m,N as n,q as o,H as p,v as q,b as r,pt as s,Rt as t,Wt as u,Dt as v,W as w};
