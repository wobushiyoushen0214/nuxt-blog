import{a as e,h as t,g as a,k as r,o as n}from"./BKfStdPn.js";import{m as l,d as u,o,r as i,p as s,q as v,s as c,e as f,g as p,t as d,v as h}from"#entry";import{A as g,k as y,d as m,x as b,o as q,l as x,_ as S,z as C}from"./TenLCVZ2.js";function A(r){const n=r.componentName||"NuxtLink";function h(e){return!d&&"string"==typeof e&&e.startsWith("#")}function A(e){const n=l(),u=f(),o=C(()=>!!e.target&&"_self"!==e.target),i=C(()=>{const a=e.to||e.href||"";return"string"==typeof a&&t(a,{acceptRelative:!0})}),s=S("RouterLink"),c=s&&"string"!=typeof s?s.useLink:void 0,d=C(()=>{if(e.external)return!0;const t=e.to||e.href||"";return"object"!=typeof t&&(""===t||i.value)}),g=C(()=>{const t=e.to||e.href||"";return d.value?t:function(e,t,a){const n=a??r.trailingSlash;if(!e||"append"!==n&&"remove"!==n)return e;if("string"==typeof e)return R(e,n);const l="path"in e&&void 0!==e.path?e.path:t(e).path;return{...e,name:void 0,path:R(l,n)}}(t,n.resolve,e.trailingSlash)}),y=d.value?void 0:c?.({...e,to:g}),m=C(()=>{const t=e.trailingSlash??r.trailingSlash;if(!g.value||i.value||h(g.value))return g.value;if(d.value){const e="object"==typeof g.value&&"path"in g.value?v(g.value):g.value;return R("object"==typeof e?n.resolve(e).href:e,t)}return"object"==typeof g.value?n.resolve(g.value)?.href??null:R(a(u.app.baseURL,g.value),t)});return{to:g,hasTarget:o,isAbsoluteUrl:i,isExternal:d,href:m,isActive:y?.isActive??C(()=>g.value===n.currentRoute.value.path),isExactActive:y?.isExactActive??C(()=>g.value===n.currentRoute.value.path),route:y?.route??C(()=>n.resolve(g.value)),async navigate(t){await p(m.value,{replace:e.replace,external:d.value||o.value})}}}return g({name:n,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1},trailingSlash:{type:String,default:void 0,required:!1}},useLink:A,setup(t,{slots:a}){const n=l(),{to:f,href:p,navigate:d,isExternal:g,hasTarget:C,isAbsoluteUrl:k}=A(t),R=y(!1),j=m(null),O=e=>{j.value=t.custom?e?.$el?.nextElementSibling:e?.$el};function L(e){return!R.value&&("string"==typeof t.prefetchOn?t.prefetchOn===e:t.prefetchOn?.[e]??r.prefetchOn?.[e])&&!1!==(t.prefetch??r.prefetch)&&!0!==t.noPrefetch&&"_blank"!==t.target&&!function(){const e=navigator.connection;if(e&&(e.saveData||w.test(e.effectiveType)))return!0;return!1}()}async function E(e=u()){if(R.value)return;R.value=!0;const t="string"==typeof f.value?f.value:g.value?v(f.value):n.resolve(f.value).fullPath,a=g.value?new URL(t,window.location.href).href:t;await Promise.all([e.hooks.callHook("link:prefetch",a).catch(()=>{}),!g.value&&!C.value&&c(f.value,n).catch(()=>{})])}if(L("visibility")){const e=u();let t,a=null;b(()=>{const r=function(){const e=u();if(e._observer)return e._observer;let t=null;const a=new Map,r=(e,r)=>(t||=new IntersectionObserver(e=>{for(const t of e){const e=a.get(t.target);(t.isIntersecting||t.intersectionRatio>0)&&e&&e()}}),a.set(e,r),t.observe(e),()=>{a.delete(e),t?.unobserve(e),0===a.size&&(t?.disconnect(),t=null)}),n=e._observer={observe:r};return n}();o(()=>{t=i(()=>{j?.value?.tagName&&(a=r.observe(j.value,async()=>{a?.(),a=null,await E(e)}))})})}),q(()=>{t&&s(t),a?.(),a=null})}return()=>{if(!g.value&&!C.value&&!h(f.value)){const e={ref:O,to:f.value,activeClass:t.activeClass||r.activeClass,exactActiveClass:t.exactActiveClass||r.exactActiveClass,replace:t.replace,ariaCurrentValue:t.ariaCurrentValue,custom:t.custom};return t.custom||(L("interaction")&&(e.onPointerenter=E.bind(null,void 0),e.onFocus=E.bind(null,void 0)),R.value&&(e.class=t.prefetchedClass||r.prefetchedClass),e.rel=t.rel||void 0),x(S("RouterLink"),e,a.default)}const l=t.target||null,u=((...e)=>e.find(e=>void 0!==e))(t.noRel?"":t.rel,r.externalRelAttribute,k.value||C.value?"noopener noreferrer":"")||null;return t.custom?a.default?a.default({href:p.value,navigate:d,prefetch:E,get route(){if(!p.value)return;const t=new URL(p.value,window.location.href);return{path:t.pathname,fullPath:t.pathname,get query(){return e(t.search)},hash:t.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:p.value}},rel:u,target:l,isExternal:g.value||C.value,isActive:!1,isExactActive:!1}):null:x("a",{ref:j,href:p.value||null,rel:u,target:l,onClick:e=>{if(!g.value&&!C.value)return e.preventDefault(),t.replace?n.replace(p.value):n.push(p.value)}},a.default?.())}}})}const k=A(h);function R(e,a){const l="append"===a?r:n;return t(e)&&!e.startsWith("http")?e:l(e,!0)}const w=/2g/;export{k as _};
